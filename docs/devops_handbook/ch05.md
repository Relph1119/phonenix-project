# 第五部分 第三步：持续学习与实验的技术实践

## 1 将学习融入日常工作

案例：Netflix通过运行”捣乱猴“不断地将故障注入到预生产环境和生产环境中，实现了运维上的恢复性目的，在亚马逊AWS整个美国东部可用性区域宕机时，依然保持服务可用。

- 建立公正和学习的文化：通过将信息转化为知识，并将学习到的结果构建到系统中，实现公正文化的目标，同时平衡了安全和问责的需求
- 举行不指责的事后分析会议：目的是帮助检查”不只是事故本身，而且关注事故发生的机制和情景，以及事故相关人的决策过程“
- 尽可能广泛地公开事后分析会议结果：将公开的信息放在一个集中的位置，方便整个组织里的所有人访问，从过去的事故中学习。将项目中的学习和改进转化为整个组织的学习和改进。
- 降低事故容忍度，寻找更弱的故障信号：在技术价值流中，应将其作为基础的实验性尝试，并以这种方式进行管理。
    - 标准化模型：用制度和系统管理一切，包括严格遵守时间表和预算
    - 实验模型：一种类似于研究和设计的实验室文化，对每天的每次实验和每条新信息进行评估和辩论
- 重新定义失败，鼓励评估风险：每个人都应该坦然面对失败并承担责任，并能够从失败中学习。
- 在生产环境注入故障来恢复和学习：首先定义故障模式，然后进行测试，确保这些故障模式是按照设计运行。在生产环境中注入故障，并演练大规模故障，建立系统在事故发生时能够自我恢复的信心。
- 创建故障演练日：其目标是帮助团队模拟和演练事故，具备实战能力。
    1. 计划一个灾难性事件
    2. 给团队准备的时间来消除所有的单点故障
    3. 创建必要的监控程序和故障切换程序等

## 2 将局部经验转化为全局改进

- 使用聊天室和聊天机器人自动积累组织知识：通过自动化工具集成到聊天室的会话活动中，帮助确立工作透明度和创建工作文档。有助于记录和分享观察和问题的解决过程，成为日常工作的一部分。
- 软件中便于重用的自动化、标准化流程：将组织学习和知识的各种标准和流程，保持在集中的源代码库里，使之成为所有人都可以搜索和使用的工具
- 创建全组织共享的单一源代码库：可以在代码库中保存程序库、基础设施和环境等配置标准、部署工具、测试标准和工具、部署流水线工具、监测和分析工具、教程和标准。
- 运用自动化测试记录和交流实践来传播知识：每个程序库都有一个所有者或支持团队，他们拥有相关的知识和专长。只允许在生产环境中使用一个版本，确保生产的一切都用到了组织的最佳集体知识。
- 通过确定非功能性需求来设计运维：实现非功能性需求使生产服务更易于部署并持续运行，从而可以快速地检测并修复问题，还能保证在服务组件出现故障时正常降级。
- 把可重用的运维用户故事纳入开发：创建定义明确的”运维用户故事“，说明那些在所有项目中（例如部署、容量规划、安全性加固等）可以重用的工作活动。
- 确保技术选型有助于实现组织目标：通过从运维团队支持的技术中排除有问题的基础设施和平台，运维团队就可以专注于最有助于实现组织全局目标的基础设施。（Etsy对新技术栈的标准化：通过故意减少支持的基础设施和配置，解决节假日业务高峰的问题）

## 3 预留组织学习和改进的时间

案例：通过改善闪电战的实践，塔吉特公司在DevOps道场举行每月的挑战计划，供DevOps教练帮助技术团队提升实践水平。让内部开发团队在一个月时间里与专职教练和工程师一起工作，解决长期困扰他们的内部问题，并在30天里取得突破。

- 偿还技术债务的制度化惯例：安排和进行为期几天或几周的改善闪电战，让团队里的每个人（或整个组织）自行组织解决关心的问题，期间不允许进行任何功能性的工作。主要是改进日常工作，找出日常工作中的变通方案。
- 让所有人教学相长：安排每周一次的学习时间，在两个小时的学习时间里，每个同伴既要自己学习，又要教别人，主题都是他们想要学习的内容。
- 在DevOps会议中分享经验：鼓励工程师参加会议，在必要时自己创建和组织内部或外部会议。（全美互惠宝箱、第一资本银行和塔吉特公司的内部技术会议）
- 传播实践的内部顾问和教练：所有领域专家都会指定一些时段用于接受任何人的咨询，以及回答提出的问题。（谷歌为了在内部推广自动化测试，每周会发布一份新闻简报，放在每个办公室的每个卫生间里，成为厕所测试，提高整个公司的测试知识和熟练程度）